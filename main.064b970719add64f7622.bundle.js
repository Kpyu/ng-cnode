webpackJsonp([1,4],{106:function(t,e,n){"use strict";var o=n(0),i=n(310),r=n(704),a=(n.n(r),n(69));n.n(a);n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=new a.Subject,l=new a.Subject,f=function(){function t(t){this.http=t,this.apiUrl="https://cnodejs.org/api/v1/",console.log("调用api服务"),this.titleSource=p,this.title$=this.titleSource.asObservable(),this.loginSource=l,this.login$=this.loginSource.asObservable()}return t.prototype.changeTitle=function(t){this.titleSource.next(t)},t.prototype.checkLogin=function(t){this.loginSource.next(t)},t.prototype.handleError=function(t){console.error(t)},t.prototype.getTopicList=function(t){return this.http.get(this.apiUrl+"topics?page="+t.page+"\n      &limit="+t.limit+"&tab="+t.tab+"&mdrender="+(t.mdrender||"")).toPromise()},t.prototype.getTopic=function(t){return this.http.get(this.apiUrl+"topic/"+t.topicId+"?mdrender="+(t.mdrender||"")+"&accesstoken="+(t.accesstoken||"")).toPromise()},t.prototype.newTopic=function(t){return this.http.post(this.apiUrl+"topics",{accesstoken:t.accesstoken,title:t.title,tab:t.tab,content:t.content}).toPromise()},t.prototype.topicCollect=function(t){return this.http.get(this.apiUrl+"topic_collect/collect?topic_id="+t.topic_id+"\n     &accesstoken="+(t.accesstoken||"")).toPromise()},t.prototype.topicDeCollect=function(t){return this.http.post(this.apiUrl+"topic_collect/de_collect",{accesstoken:t.accesstoken,topic_id:t.topic_id}).toPromise()},t.prototype.getUserCollect=function(t){return this.http.get(this.apiUrl+"topic_collect/"+t.loginname).toPromise()},t.prototype.newReply=function(t){return this.http.post(this.apiUrl+"topic/"+t.topic_id+"/replies",{accesstoken:t.accesstoken,content:t.content,reply_id:t.reply_id}).toPromise()},t.prototype.ups=function(t){return this.http.post(this.apiUrl+"topic/"+t.topic_id+"/ups",{accesstoken:t.accesstoken}).toPromise()},t.prototype.getUserInfo=function(t){return this.http.get(this.apiUrl+"user/"+t.loginname).toPromise()},t.prototype.validateAccessToken=function(t){return console.log("校验登录"),this.http.post(this.apiUrl+"accesstoken",t).toPromise()},t.prototype.getMessage=function(t){return this.http.get(this.apiUrl+"topic_collect/"+t.loginname).toPromise()},t.prototype.unreadCount=function(t){return this.http.get(this.apiUrl+"message/count?accesstoken="+t).toPromise()},t.prototype.markAll=function(t){return this.http.post(this.apiUrl+"topic/"+t.topic_id+"/ups",{accesstoken:t.accesstoken}).toPromise()},t=c([n.i(o.c)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},386:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=386},387:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(473),i=n(0),r=n(527),a=n(504);r.a.production&&n.i(i.a)(),n.i(o.a)().bootstrapModule(a.a)},503:function(t,e,n){"use strict";var o=n(0),i=n(106);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=(function(){function t(){}return t}(),function(){function t(t){this.apiService=t,this.isShowNavbar=!1,this.isShowConfirm=!1,this.title="全部"}return t.prototype.showConfirm=function(){this.isShowConfirm=!this.isShowConfirm},t.prototype.onToggle=function(t){this.isShowNavbar=t},t.prototype.onNavigate=function(t){this.title=t},t.prototype.onActivate=function(t){if(t.title&&(this.title=t.title),t.tab)switch(t.tab){case"all":this.title="全部";break;case"good":this.title="精华";break;case"share":this.title="分享";break;case"ask":this.title="问答";break;case"job":this.title="招聘";break;case"message":this.title="消息";break;case"about":this.title="关于";break;case"perinfo":this.title="个人信息";break;case"newtopic":this.title="发帖";break;default:this.title="全部"}},t.prototype.getUnreadCount=function(){this.apiService.unreadCount(this.accesstoken)},t.prototype.ngOnInit=function(){var t=this,e=this;this.isLogin=JSON.parse(localStorage.getItem("loginUser"))&&!0,this.loginUserData=JSON.parse(localStorage.getItem("loginUser")),this.subscription=this.apiService.title$.subscribe(function(t){console.log(t),e.title=t}),this.loginSubscript=this.apiService.login$.subscribe(function(e){t.isLogin=!0,t.loginUserData=e})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.loginSubscript.unsubscribe()},t=r([n.i(o.Q)({selector:"app-root",template:n(690),styles:[n(679)],providers:[i.a]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}())},504:function(t,e,n){"use strict";var o=n(0),i=n(102),r=n(303),a=n(503),c=n(508),s=n(507),p=n(310),l=n(505),f=n(106);n.d(e,"a",function(){return h});var d=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){}return t=d([n.i(o.b)({imports:[i.a,r.a,l.a,p.a],declarations:[c.a,s.a,a.a],providers:[f.a],bootstrap:[a.a]}),u("design:paramtypes",[])],t)}()},505:function(t,e,n){"use strict";var o=n(0),i=n(102),r=n(303),a=n(103),c=n(525),s=n(511),p=n(512),l=n(516),f=n(521),d=n(519),u=n(514),h=n(522),g=n(518);n.d(e,"a",function(){return y});var b=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=[{path:"",redirectTo:"/list/all",pathMatch:"full"},{path:"list/:tab",component:c.a},{path:"topic/:id",component:f.a},{path:"message",component:u.a},{path:"about",pathMatch:"full",component:s.a},{path:"perinfo/:loginname",component:l.a},{path:"login",pathMatch:"prefix",component:p.a},{path:"newtopic",pathMatch:"prefix",component:d.a}],y=(a.c.forRoot(v),function(){function t(){}return t=b([n.i(o.b)({imports:[r.a,i.a,a.c.forRoot(v)],declarations:[c.a,s.a,p.a,l.a,f.a,d.a,u.a,h.a,g.a],exports:[a.c]}),m("design:paramtypes",[])],t)}())},506:function(t,e,n){"use strict";var o=n(0),i=n(103);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.route=t,this.router=e,this.onToggle=new o.G}return t.prototype.ngOnInit=function(){},t.prototype.navbarToggle=function(){this.isShowNavbar=!0,this.onToggle.emit(!0)},r([n.i(o.w)(),a("design:type",Boolean)],t.prototype,"isShowNavbar",void 0),r([n.i(o.w)(),a("design:type",String)],t.prototype,"title",void 0),r([n.i(o.R)(),a("design:type",Object)],t.prototype,"onToggle",void 0),t=r([n.i(o.Q)({selector:"app-header-bar",template:n(691),styles:[n(680)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.b&&i.b)&&c||Object])],t);var e,c}()},507:function(t,e,n){"use strict";var o=n(506);n.d(e,"a",function(){return o.a})},508:function(t,e,n){"use strict";var o=n(509);n.d(e,"a",function(){return o.a})},509:function(t,e,n){"use strict";var o=n(0),i=n(103);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.router=t,this.route=e,this.navSet=s.navSet,this.currentNav=s.nav,this.onToggle=new o.G,this.onNavigate=new o.G}return t.prototype.ngOnInit=function(){},t.prototype.navigatorTo=function(t,e){var n="";switch(t.stopPropagation(),this.isShowNavbar=!1,this.onToggle.emit(!1),e){case"all":n="全部";break;case"good":n="精华";break;case"share":n="分享";break;case"ask":n="问答";break;case"job":n="招聘";break;case"message":n="消息";break;case"about":n="关于";break;case"perinfo":n="个人信息";break;case"newtopic":n="发帖";break;default:n="全部"}this.onNavigate.emit(n)},t.prototype.login=function(t){t.stopPropagation(),this.router.navigate(["/login"]),this.onNavigate.emit("登录"),this.onToggle.emit(!1)},t.prototype.hide=function(){this.isShowNavbar=!1,this.onToggle.emit(!1)},r([n.i(o.w)(),a("design:type",Boolean)],t.prototype,"isShowNavbar",void 0),r([n.i(o.w)(),a("design:type",Boolean)],t.prototype,"isLogin",void 0),r([n.i(o.w)(),a("design:type",Object)],t.prototype,"loginUser",void 0),r([n.i(o.R)(),a("design:type",Object)],t.prototype,"onToggle",void 0),r([n.i(o.R)(),a("design:type",Object)],t.prototype,"onNavigate",void 0),t=r([n.i(o.Q)({selector:"app-nav-bar",template:n(692),styles:[n(681)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}(),s={nav:1,navSet:[[{icon:"&#xe602;",name:"全部",view:"list",tab:"all"},{icon:"&#xe605;",name:"精华",view:"list",tab:"good"},{icon:"&#xe600;",name:"分享",view:"list",tab:"share"},{icon:"&#xe608;",name:"问答",view:"list",tab:"ask"},{icon:"&#xe606;",name:"招聘",view:"list",tab:"job"}],[{icon:"&#xe607;",accessToken:!0,name:"消息",view:"message"},{icon:"&#xe608;",name:"关于",view:"about"}],[{icon:"&#xe608;",name:"个人信息",accessToken:!0,view:"perinfo"},{icon:"&#xe608;",name:"发帖",accessToken:!0,view:"newtopic"}]]}},510:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.title="关于"}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Q)({selector:"app-about-view",template:n(693),styles:[n(682)]}),r("design:paramtypes",[])],t)}()},511:function(t,e,n){"use strict";var o=n(510);n.d(e,"a",function(){return o.a})},512:function(t,e,n){"use strict";var o=n(513);n.d(e,"a",function(){return o.a})},513:function(t,e,n){"use strict";var o=n(0),i=n(106);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.api=t,this.title="登录",this.model={}}return t.prototype.ngOnInit=function(){},t.prototype.doLogin=function(){var t=this;this.api.validateAccessToken({accesstoken:this.model.accessToken}).then(function(e){var n=e.json();localStorage.setItem("loginUser",JSON.stringify({loginname:n.loginname,user_id:n.id,accesstoken:t.model.accessToken,avatar_url:n.avatar_url})),t.api.checkLogin(localStorage.getItem("loginUser"))}).catch(function(t){console.log(t.json())})},t=r([n.i(o.Q)({selector:"app-login-view",template:n(694),styles:[n(683)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},514:function(t,e,n){"use strict";var o=n(515);n.d(e,"a",function(){return o.a})},515:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Q)({selector:"app-message-view",template:n(695),styles:[n(684)]}),r("design:paramtypes",[])],t)}()},516:function(t,e,n){"use strict";var o=n(517);n.d(e,"a",function(){return o.a})},517:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Q)({selector:"app-personal-info-view",template:n(696),styles:[n(685)]}),r("design:paramtypes",[])],t)}()},518:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.transform=function(t,e){var n="";if(1==t.good)n="精华";else switch(t.tab){case"ask":n="问答";break;case"share":n="分享";break;case"job":n="招聘";break;default:n="未知"}return n},t=i([n.i(o.p)({name:"articleType"}),r("design:paramtypes",[])],t)}()},519:function(t,e,n){"use strict";var o=n(520);n.d(e,"a",function(){return o.a})},520:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Q)({selector:"app-topic-new-view",template:n(697),styles:[n(686)]}),r("design:paramtypes",[])],t)}()},521:function(t,e,n){"use strict";var o=n(524);n.d(e,"a",function(){return o.a})},522:function(t,e,n){"use strict";var o=n(523);n.d(e,"a",function(){return o.a})},523:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},i([n.i(o.w)(),r("design:type",Object)],t.prototype,"replyList",void 0),t=i([n.i(o.Q)({selector:"app-reply-list",template:n(698),styles:[n(687)]}),r("design:paramtypes",[])],t)}()},524:function(t,e,n){"use strict";var o=n(0),i=n(106),r=n(103);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e,n){this.api=t,this.route=e,this.router=n,this.title="",this.topic={}}return t.prototype.ngOnInit=function(){var t=this;t.sub=this.route.params.subscribe(function(e){var n=e.id;t.api.getTopic({topicId:n,mdrender:null,accesstoken:null}).then(function(e){t.topic=e.json().data,t.title=t.topic.title,t.api.changeTitle(t.topic.title)}).catch(function(t){console.error(t)})})},t.prototype.submit=function(){this.api.changeTitle(this.topic.title)},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t=a([n.i(o.Q)({selector:"app-topic-view",template:n(699),providers:[i.a],styles:[n(688)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof r.a&&r.a)&&s||Object,"function"==typeof(p="undefined"!=typeof r.b&&r.b)&&p||Object])],t);var e,s,p}()},525:function(t,e,n){"use strict";var o=n(526);n.d(e,"a",function(){return o.a})},526:function(t,e,n){"use strict";var o=n(0),i=n(106),r=n(103);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e,n){this.api=t,this.route=e,this.router=n,this.topics=[{}],this.isFirstLoad=!0,this.isOverLoaded=!1,this.isLoading=!1}return t.prototype.ngOnInit=function(){var t=this;t.isFirstLoad=!1,this.sub=this.route.params.subscribe(function(e){t.isOverLoaded=!1,t.currentPage=1;var n=e.tab;t.tab=n,t.api.getTopicList({page:t.currentPage,tab:n,limit:40}).then(function(e){t.topics=e.json().data,t.topics.length<40&&(t.isOverLoaded=!0),t.isFirstLoad=!1})})},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t.prototype.loadMore=function(){var t=this,e=this.route.snapshot.params.tab;this.isLoading||(this.isLoading=!0,t.api.getTopicList({page:++t.currentPage,tab:e,limit:40}).then(function(e){t.isLoading=!1,e.json().data.length<40&&(t.isOverLoaded=!0),t.topics=t.topics.concat(e.json().data)}))},t=a([n.i(o.Q)({selector:"app-view-list",template:n(700),styles:[n(689)],providers:[i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(s="undefined"!=typeof r.a&&r.a)&&s||Object,"function"==typeof(p="undefined"!=typeof r.b&&r.b)&&p||Object])],t);var e,s,p}()},527:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},679:function(t,e){t.exports=".selected{background-color:#cfd8dc!important;color:#fff}.heroes{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes li{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes li.selected:hover{background-color:#bbd8dc!important;color:#fff}.heroes li:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes .text{position:relative;top:-3px}.heroes .badge{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"},680:function(t,e){t.exports="header{background-color:hsla(0,0%,100%,.95);box-shadow:0 0 4px rgba(0,0,0,.25);line-height:44px;position:fixed;left:0;right:0;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:999}header h2{text-align:center;font-size:16px;margin-bottom:0;line-height:44px;font-weight:400}.navbar-toggle{float:left;cursor:pointer}header .iconfont{padding:14px}.send-btn{float:right;color:#42b983;cursor:pointer;vertical-align:bottom}.send-btn i{font-size:22px;padding-top:11px;padding-bottom:11px}"},681:function(t,e){t.exports=".offcanvas{position:fixed;top:0;bottom:0;left:0;right:0;visibility:hidden;z-index:1001}.user{text-align:center;padding:60px 0 25px}.user img,.user p{cursor:pointer}.user img{width:64px;height:64px;border-radius:50%;box-shadow:0 0 1px 5px #3d4a5d}.user img+p{color:#fff;line-height:32px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:80%;margin:5px auto}.offcanvas .logo{text-align:center;padding:14px 0;position:absolute;bottom:0}.offcanvas .logo img{width:60%}@media (max-width:435px){.user{padding:20px 0 0}.user img+p{margin:0 auto}.offcanvas .logo{padding:5px 0}.offcanvas .logo img{width:45%}}.offcanvas-bar{position:fixed;top:0;bottom:0;left:0;width:235px;background-color:#24344b;max-width:100%;-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-transition:all .3s;transition:all .3s}.offcanvas-bar ul{margin-top:14px;background-color:#2b3c58}.offcanvas-bar ul li{line-height:1.8;padding:4px 24px}.offcanvas-bar ul li a{display:block}.offcanvas .iconfont{margin-right:8px}.offcanvas a{color:#7f8c8d;text-decoration:none}.offcanvas-bar .tab.active,.v-link-active.tab.active,.v-link-active:not(.tab){background-color:#3b4f6a}.user .login{font-size:16px}li.unread .iconfont{color:#b1b15c;display:inline-block;-webkit-transform-origin:50% 0;transform-origin:50% 0;-webkit-animation:shake 2.5s linear infinite;animation:shake 2.5s linear infinite}@-webkit-keyframes shake{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}80%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}}@keyframes shake{0%,to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}80%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}}"},682:function(t,e){t.exports=""},683:function(t,e){t.exports="input{display:block;width:100%}"},684:function(t,e){t.exports=""},685:function(t,e){t.exports=""},686:function(t,e){t.exports=""},687:function(t,e){t.exports=".left{float:left;overflow:hidden}.left img+div,.right{float:right}.reply-list{margin-top:15px}.reply-list .header{background-color:#f6f6f6;padding:10px;border-radius:3px 3px 0 0}.reply-list .header h4{margin-bottom:0}.like-btn,.reply-btn{float:left}.like-btn{margin-right:6px}.reply-btn{margin-top:2px}.reply-list ul li{padding:6px;border-bottom:1px solid #f0f0f0;overflow:hidden}.reply-form{clear:both}.reply-form textarea{width:100%;resize:none;margin-top:12px;border:1px solid #d5dbdb;border-radius:3px;height:60px;display:block;margin-bottom:5px}.reply-form textarea+button{width:80px;color:#fff;border:0;line-height:28px}.left p{font-size:14px;line-height:1.6}.reply-list .left img{width:32px;height:32px;margin-top:6px}.user{overflow:hidden;margin:10px 0}"},688:function(t,e){t.exports=".tab{border-radius:4px;padding:2px 6px;color:#fff;font-size:14px;margin-right:6px;text-align:center}.top.tab{background-color:#e74c3c}.share.tab{background-color:#1abc9c}.job.tab{background-color:#9b59b6}.question.tab{background-color:#3498db}.reply-form textarea{min-height:80px}.topic-header{overflow:hidden}.topic-header h3{margin-bottom:15px;line-height:1.5}.topic-header{padding:6px 8px;border-bottom:1px solid #e5e5e5}.topic-header p{font-size:14px;line-height:1.6}.topic-header .right p{margin-bottom:0}.topic-content{padding:20px 10px 10px;margin:0 10px}.topic-content a{color:#4078c0;text-decoration:none}.topic-content a:hover{text-decoration:underline}.topic-content ul{list-style:inside disc;line-height:1.42}.topic-content h1{font-size:32.5px;margin:30px 0 15px;border-bottom:1px solid #eee}.topic-content p{font-size:15px;line-height:1.6}.topic-header img{width:44px;height:44px;border-radius:4px;margin-right:6px}.left{float:left}.right{float:right}.markdown-text p{margin-bottom:5px;white-space:pre-wrap;word-wrap:break-word;line-height:1.4em}.markdown-text img{vertical-align:middle}.markdown-text .prettyprint{font-size:14px;padding:15px;background-color:#f7f7f8}pre{background:#fee9cc;border:1px dashed #ccc;line-height:22px}code{padding:0;border:none}p code{background:0 0;color:#7f7f7f;margin:0 1px;padding:1px 4px;border-radius:1px}div pre.prettyprint{font-size:14px;border-radius:0;padding:0 15px;border:none;margin:20px -10px;border-width:1px 0;background:#f7f7f7}"},689:function(t,e){t.exports=".topic-list li{padding:10px 8px;overflow:hidden;background-color:#fff;border-bottom:1px solid #d5dbdb}.topic-list .tab{border-radius:4px;padding:3px 6px;color:#fff;font-size:14px;margin-right:6px}.topic-list h3{margin-bottom:8px;line-height:1.6}.topic-list .top .tab{background-color:#e74c3c}.topic-list .share .tab{background-color:#1abc9c}.topic-list .job .tab{background-color:#9b59b6}.topic-list .ask .tab{background-color:#3498db}.topic-list .unknow .tab{background-color:gray}.topic-list .info{font-size:14px}.left>div{float:right;margin-left:6px}.info .right>p{text-align:right}.info p{color:#34495e;line-height:1.6;margin-bottom:0}.right strong{color:#42b983}.title{cursor:pointer}.loadMoreBtn{width:100%;max-width:none}img{float:left;width:44px;height:44px;border-radius:4px;margin-right:6px}.userPanel p,div p{margin-bottom:0;line-height:22px}.userPanel div>p:first-child{cursor:pointer}"},690:function(t,e){t.exports='<div id="app" [ngClass]="{ \'offcanvas-page\': isShowNavbar,\r\n                           \'show-offcanvas\': isShowNavbar}">\r\n    <app-nav-bar [isShowNavbar]="isShowNavbar" [isLogin]="isLogin" [loginUser] = "loginUserData" (onNavigate)="onNavigate($event)" (onToggle)="onToggle($event)"></app-nav-bar>\r\n    <main>\r\n      <app-header-bar [isShowNavbar]="isShowNavbar" [title]="title"  (onToggle)="onToggle($event)"></app-header-bar>\r\n      <div id="content">\r\n        <router-outlet  (activate)="onActivate($event)"></router-outlet> \r\n      </div>\r\n    </main>\r\n  </div>\r\n\r\n'},691:function(t,e){t.exports='<header>\r\n    <div class="navbar-toggle" id="show-offcanvas" (click)="navbarToggle()">\r\n      <i class="iconfont">&#xe601;</i>\r\n    </div>\r\n    <div class="send-btn" title="发帖">\r\n      <i class="iconfont">&#xe609;</i>\r\n    </div>\r\n    <h2>{{title}}</h2>\r\n  </header>'},692:function(t,e){t.exports='<div class="offcanvas" (click)="hide()">\r\n    <nav class="offcanvas-bar">\r\n      <div class="user">\r\n        <div *ngIf="isLogin">\r\n          <img [src]="loginUser.avatar_url" alt="">\r\n          <p>{{loginUser.loginname}}</p>\r\n        </div>\r\n        <a *ngIf="!isLogin" class="login" (click)="login($event)"  style="cursor:pointer"><i class="iconfont">&#xe604;</i>登录</a>\r\n      </div>\r\n      <ul *ngFor="let items of navSet;let i=index">\r\n        <template ngFor let-item [ngForOf]="items">\r\n            <li  \r\n              [ngClass]="{\'active\': item.tab == currentNav, \'tab\': item.tab, \'unread\': (item.view === \'message\')}"\r\n              *ngIf="(item.accessToken && isLogin) || !item.accessToken" \r\n            >\r\n              <a *ngIf="item.tab" href="javascript:;" [routerLink]="[\'/\'+item.view, item.tab]" (click)="navigatorTo($event, item.tab)">\r\n                <i class="iconfont" [innerHTML]="item.icon"></i>\r\n                <span>{{item.name}}</span>\r\n                <span class="unreadTip" *ngIf="item.view===\'message\' && unreadCount !== 0">  </span>\r\n              </a>\r\n              <a *ngIf="!item.tab" href="javascript:;" [routerLink]="[\'/\'+item.view]" (click)="navigatorTo($event, item.view)">\r\n                <i class="iconfont" [innerHTML]="item.icon"></i>\r\n                <span>{{item.name}}</span>\r\n                <span class="unreadTip" *ngIf="item.view===\'message\' && unreadCount !== 0">  </span>\r\n              </a>\r\n            </li>\r\n        </template>\r\n        <li *ngIf="isLogin&&i==navSet.length -1"><a><i class="iconfont">&#xe60d;</i>注销</a></li>\r\n      </ul>\r\n      <div class="logo">\r\n        <img src="//o4j806krb.qnssl.com/public/images/cnodejs_light.svg" alt="">\r\n      </div>\r\n    </nav>\r\n  </div>\r\n   <!--v-link="{path: \'/\'+item.view, query:{\'tab\': item.tab}}"-->'},693:function(t,e){t.exports="<p>\r\n  about-view works!\r\n</p>\r\n"},694:function(t,e){t.exports='<form>\r\n  <div class="form-group">\r\n    <input type="text" [(ngModel)]="model.accessToken" name="accessToken" placeholder="请输入access_token">\r\n  </div>\r\n  <button type="buttton" (click)="doLogin()">登录</button>\r\n</form>'},695:function(t,e){t.exports="<p>\r\n  message-view works!\r\n</p>\r\n"},696:function(t,e){t.exports="<p>\r\n  personal-info-view works!\r\n</p>\r\n"},697:function(t,e){t.exports="<p>\r\n  topic-new-view works!\r\n</p>\r\n"},698:function(t,e){t.exports='<div class="reply-list">\r\n  \t<div class="header">\r\n    \t<h4>评论 已有<span> {{replyList.length}} </span>回复</h4>\r\n  \t</div>\r\n  \t<!---->\r\n    <ul>\r\n  \t\t<li *ngFor="let reply of replyList">\r\n  \t\t\t<div class="user">\r\n          <div class="right">\r\n          \t<div class="like-btn">\r\n          \t\t<i class="iconfont">&#xe60a;</i>{{reply.ups.length}}\r\n          \t</div>\r\n          \t<div class="reply-btn">\r\n          \t\t<i class="iconfont">&#xe60b;</i>\r\n          \t</div>\r\n          </div>\r\n          <div class="userPanel">\r\n            <img style="width:44px;" [src]="reply.author.avatar_url" alt="" />\r\n            <div>\r\n              <p [routerLink]="[\'/perinfo\', reply.author.loginname]" *ngIf="reply.author">{{reply.author.loginname}}</p>\r\n              <p>{{reply.create_at | date:\'yyyy-MM-dd hh:mm:ss\'}}</p>\r\n            </div>\r\n          </div>\r\n  \t\t\t</div>\r\n  \t\t\t<div class="reply-content" [innerHtml]="reply.content"></div>\r\n  \t\t\t<!--<div class="reply-form">\r\n  \t\t\t\t<form>\r\n            <textarea>{{reply.author.loginname}} </textarea>\r\n            <button type="submit">确定</button>    \r\n          </form>\r\n  \t\t\t</div>-->\r\n  \t\t</li>\r\n\t\t</ul>\r\n\t</div>';
},699:function(t,e){t.exports='<div>\r\n    <div class="topic-header">\r\n    \t<h3>{{topic.title}}</h3>\r\n      <div class="right" >\r\n        <p class="tab top">{{topic|articleType}}</p>\r\n        <p>{{topic.visit_count}}次浏览</p>\r\n      </div>\r\n\r\n      \t<div class="userPanel">\r\n          <img *ngIf="topic.author" [src]="topic.author.avatar_url" alt="" />\r\n          <div>\r\n            <p [routerLink]="[\'/perinfo\', topic.author.loginname]" *ngIf="topic.author">{{topic.author.loginname}}</p>\r\n            <p>{{topic.create_at | date:\'yyyy-MM-dd hh:mm:ss\'}}</p>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    <div class="topic-content" [innerHTML]="topic.content"></div>\r\n    <app-reply-list *ngIf="topic.replies" [replyList]="topic.replies"></app-reply-list>\r\n    <div>\r\n      <form class="reply-form">\r\n        <textarea></textarea>\r\n        <button type="submit"(click)="submit($event)">回复</button>\r\n      </form>\r\n    </div>\r\n  </div>'},700:function(t,e){t.exports='<div class="topic-list" :is-show-sidebar.sync="false">\r\n\t<ul>\r\n\t\t<li *ngFor="let topic of topics" class="{{topic.good? \'top\':(topic.tab||\'unknown\')}}" [routerLink]="[\'/topic\',topic.id]">\r\n\t\t\t\t<h3 class="title">\r\n          <span class="tab">{{topic|articleType}}</span>\r\n          {{topic.title}}\r\n        </h3>\r\n\t\t\t\t<div class="info">\r\n\t\t\t\t\t<div class="right">\r\n\t\t\t\t\t\t<p><strong title="回复数">{{topic.reply_count}}</strong> / <span title="阅读数">{{topic.visit_count}}</span></p>\r\n\t\t\t\t\t\t<p class="latest_reply_time"></p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class="userPanel">\r\n\t\t\t\t\t\t<img *ngIf="topic.author" [src]="topic.author.avatar_url" alt="" />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p [routerLink]="[\'/perinfo\', topic.author.loginname]" *ngIf="topic.author">{{topic.author.loginname}}</p>\r\n\t\t\t\t\t\t\t<p>{{topic.create_at | date:\'yyyy-MM-dd hh:mm:ss\'}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t</li>\r\n\t</ul>\r\n</div>\r\n<button *ngIf="!isFirstLoad&&!isOverLoaded" (click)="loadMore($event)" type="button" class="loadMoreBtn">{{isLoading ? "正在加载" :"加载更多"}}</button>\r\n<div *ngIf="isOverLoaded" style="text-align:center">没有更多内容了</div>'},717:function(t,e,n){t.exports=n(387)}},[717]);